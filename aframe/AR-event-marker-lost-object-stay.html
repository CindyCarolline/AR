<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width">
    <title>AR.js: Marker Event Detection</title>
    <script src="./library/aframe.min.js"></script>
    <script src="./library/aframe-ar.min.js"></script>
</head>

<body style='margin : 0px; overflow: hidden;'>
    <a-scene embedded vr-mode-ui="enabled: false"
        arjs='detectionMode: mono_and_matrix; matrixCodeType: 3x3; debugUIEnabled: false;'>

        <!-- add a simple camera -->
        <a-entity camera></a-entity>

        <!-- handle hiro marker -->
        <a-marker preset='hiro'></a-marker>
    </a-scene>
    <script>
        // a-scene
        var scene = document.querySelector("a-scene");

        // a-marker
        var m = document.querySelector("a-marker");

        // Create object bola
        var bolam = `<a-sphere position="0 0 0" color="red" radius="0.5"></a-sphere>`;
        var bolas = `<a-sphere position="0 0 -5" color="red" radius="0.5"></a-sphere>`;

        m.addEventListener("markerFound", (e) => {
            if(document.querySelector("a-sphere")) {
            let bol = document.querySelector("a-sphere");
            if(bol.parentNode)
                bol.parentNode.removeChild(bol);
            }
            m.insertAdjacentHTML('beforeend',bolam);
        });

        m.addEventListener("markerLost", (e) => {
            if(document.querySelector("a-sphere")) {
            let bol = document.querySelector("a-sphere");
            if(bol.parentNode)
                bol.parentNode.removeChild(bol);
            }
            scene.insertAdjacentHTML('beforeend',bolas);
        });
    </script>
</body>

</html>